{"version":3,"sources":["components/Navbar/Navbar.js","components/UI/static/background.jpeg","components/UI/Card.js","components/Home/Home.js","components/Login/Login.js","components/ChartStats/ChartStats.js","components/Store/Store.js","App.js","index.js"],"names":["Navbar","deleteToken","localStorage","removeItem","useEffect","elems","document","querySelectorAll","M","Sidenav","init","Dropdown","id","className","getItem","to","pathname","href","onClick","Card","props","src","Background","name","state","storeProps","maxPeople","actualPeople","telephoneNumber","address","Home","useState","stores","setStores","axios","get","then","response","data","console","log","catch","error","map","store","user","max_people","actual_people","telephone_number","isFull","is_full","defaults","xsrfCookieName","xsrfHeaderName","Login","history","useHistory","setError","username","setUsername","password","setPassword","onSubmit","event","preventDefault","post","idToken","setItem","go","status","style","marginTop","type","onChange","target","value","htmlFor","ChartStats","line","setLine","pie","setPie","bar","setBar","line2","setLine2","notAuthorized","setNotAuthorized","headers","lineData","labels","Object","keys","datasets","label","backgroundColor","borderColor","fill","values","pieData","barData","lineData2","lineOptions","elements","tension","options","Store","location","useLocation","setStore","socket","host","window","createSocket","WebSocket","onmessage","datos","JSON","parse","key_value","onopen","send","onclose","setTimeout","close","margin","App","path","component","exact","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.4ee634f6.chunk.js","sourcesContent":["import \"materialize-css/dist/css/materialize.css\";\nimport { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport M from \"materialize-css\";\n\nconst Navbar = () => {\n  useEffect(() => {\n    let elems = document.querySelectorAll(\".sidenav\");\n    M.Sidenav.init(elems);\n    elems = document.querySelectorAll(\".dropdown-trigger\");\n    M.Dropdown.init(elems);\n  });\n  function deleteToken() {\n    localStorage.removeItem(\"id_token\");\n  }\n  return (\n    <>\n      <ul id=\"dropdown1\" className=\"dropdown-content\">\n        {localStorage.getItem(\"id_token\") == null ? (\n          <li>\n            <Link\n              className=\"teal-text\"\n              to={{\n                pathname: \"/login/\",\n              }}\n            >\n              Iniciar Sesión\n            </Link>\n          </li>\n        ) : (\n          <li>\n            <a href=\"/\" onClick={deleteToken}>\n              Logout\n            </a>\n          </li>\n        )}\n      </ul>\n      <ul id=\"dropdown2\" className=\"dropdown-content\">\n        {localStorage.getItem(\"id_token\") == null ? (\n          <li>\n            <Link\n              className=\"teal-text\"\n              to={{\n                pathname: \"/login/\",\n              }}\n            >\n              Iniciar Sesión\n            </Link>\n          </li>\n        ) : (\n          <li>\n            <a href=\"/\" onClick={deleteToken}>\n              Logout\n            </a>\n          </li>\n        )}\n      </ul>\n      <nav className=\"teal\">\n        <div className=\"container\">\n          <div className=\"nav-wrapper\">\n            <Link to=\"/\" className=\"brand-logo\">\n              SESP\n            </Link>\n            <a\n              href=\"menu\"\n              data-target=\"mobile-demo\"\n              className=\"sidenav-trigger\"\n            >\n              <i className=\"material-icons\">menu</i>\n            </a>\n            <ul className=\"right hide-on-med-and-down\">\n              <li>\n                <a href=\"/\">\n                  <i className=\"material-icons right\">store</i>Stores\n                </a>\n              </li>\n              <li>\n                <a\n                  href=\"perfil\"\n                  className=\"dropdown-trigger\"\n                  data-target=\"dropdown1\"\n                >\n                  <i className=\"material-icons right\">arrow_drop_down</i>Perfil\n                </a>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </nav>\n      <ul className=\"sidenav\" id=\"mobile-demo\">\n        <li>\n          <a href=\"/\">\n            <i className=\"material-icons right\">store</i>stores\n          </a>\n        </li>\n        <li>\n          <a href=\"perfil\" className=\"dropdown-trigger\" data-target=\"dropdown2\">\n            <i className=\"material-icons right\">arrow_drop_down</i>Perfil\n          </a>\n        </li>\n      </ul>\n    </>\n  );\n};\n\nexport default Navbar;\n","export default __webpack_public_path__ + \"static/media/background.9c1ef017.jpeg\";","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Background from \"./static/background.jpeg\";\n\nconst Card = (props) => {\n  return (\n    <>\n      <div className=\"col s12 m6 l6\">\n        <div className=\"card\">\n          <div className=\"card-image waves-effect waves-block waves-light\">\n            <img className=\"activator\" src={Background} />{\" \"}\n          </div>\n          <div className=\"card-content\">\n            <span className=\"card-title activator grey-text text-darken-4\">\n              {props.name}\n              <i className=\"material-icons right\">more_vert</i>\n            </span>\n            <Link\n              className=\"teal-text\"\n              to={{\n                pathname: \"/store/\",\n                state: { storeProps: props },\n              }}\n            >\n              Más Información\n            </Link>\n          </div>\n          <div className=\"card-reveal\">\n            <span className=\"card-title grey-text text-darken-4\">\n              {props.name}\n              <i className=\"material-icons right\">close</i>\n            </span>\n            <p>Cantidad Máxima: {props.maxPeople}</p>\n            <p>Personas en el local: {props.actualPeople}</p>\n            <p>Teléfono: {props.telephoneNumber}</p>\n            <p>Dirección: {props.address}</p>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Card;\n","import React, { useState, useEffect } from \"react\";\nimport Card from \"../UI/Card\";\nimport axios from \"axios\";\n\nconst Home = () => {\n  const [stores, setStores] = useState([]);\n\n  useEffect(() => {\n    axios\n      .get(\"/api/stores/\")\n      .then((response) => {\n        setStores(response.data);\n        console.log(response.data);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }, []);\n\n  return (\n    <>\n      <div className=\"container\">\n        <div className=\"row\">\n          {stores.map((store) => {\n            return (\n              <div key={store.user}>\n                <Card\n                  user={store.user}\n                  id={store.id}\n                  name={store.name}\n                  maxPeople={store.max_people}\n                  actualPeople={store.actual_people}\n                  telephoneNumber={store.telephone_number}\n                  isFull={store.is_full}\n                  address={store.address}\n                />\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Home;\n","import React from \"react\";\nimport { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\n\naxios.defaults.xsrfCookieName = \"csrftoken\";\naxios.defaults.xsrfHeaderName = \"X-CSRFToken\";\n\nconst Login = () => {\n  let history = useHistory();\n\n  function setToken(idToken) {\n    localStorage.setItem(\"id_token\", idToken);\n  }\n\n  const [error, setError] = useState(null);\n  const [username, setUsername] = useState();\n  const [password, setPassword] = useState();\n  function handleChangePassword(event) {\n    setPassword(event.target.value);\n  }\n  function handleChangeUsername(event) {\n    setUsername(event.target.value);\n  }\n  function submitHandler(event) {\n    const data = { username: username, password: password };\n    event.preventDefault();\n    axios\n      .post(\"/api-token-auth/\", data)\n      .then((response) => {\n        setToken(response.data[\"token\"]);\n        history.go(-1);\n      })\n      .catch((error) => {\n        console.log(error);\n        setError(error.response.status);\n      });\n  }\n  return (\n    <>\n      <form onSubmit={submitHandler}>\n        <div className=\"row\" style={{ marginTop: \"5rem\" }}>\n          <div className=\"container\">\n            <div className=\"col s12 m6\">\n              <div className=\"input-field col s12\">\n                <input\n                  id=\"username\"\n                  name=\"username\"\n                  type=\"text\"\n                  className=\"validate\"\n                  onChange={handleChangeUsername}\n                />\n                <label htmlFor=\"username\">Username</label>\n              </div>\n              <div className=\"input-field col s12\">\n                <input\n                  id=\"password\"\n                  type=\"password\"\n                  className=\"validate\"\n                  onChange={handleChangePassword}\n                />\n                <label htmlFor=\"password\">Contraseña</label>\n              </div>\n              {error === 400 ? (\n                <div className=\"col s-12\">\n                  <div className=\"card red darken-2\">\n                    <div className=\"card-content\">\n                      <p className=\"white-text\">\n                        Datos Incorrectos, por favor intente de nuevo.\n                      </p>\n                    </div>\n                  </div>\n                </div>\n              ) : (\n                \"\"\n              )}\n            </div>\n            <button className=\"waves-effect waves-light btn red\">\n              Inciar Sesión\n            </button>\n          </div>\n        </div>\n      </form>\n    </>\n  );\n};\n\nexport default Login;\n","import React from \"react\";\nimport axios from \"axios\";\nimport { useState, useEffect } from \"react\";\n\nimport { Line, Pie, Bar } from \"react-chartjs-2\";\n\nconst ChartStats = (props) => {\n  const [line, setLine] = useState([]);\n  const [pie, setPie] = useState([]);\n  const [bar, setBar] = useState([]);\n  const [line2, setLine2] = useState([])\n  const [notAuthorized, setNotAuthorized] = useState(false);\n\n  useEffect(() => {\n    axios\n      .get(\n        \"/api/total_entries_last_week/\" + props.store.id,{headers: {\"Authorization\": \"Token \"+ localStorage.getItem('id_token')}}\n      )\n      .then((response) => {\n        setLine(response.data);\n      })\n      .catch((error) => {\n        setNotAuthorized(true);\n      });\n\n    axios\n      .get(\"/api/total_entries_per_day/\" + props.store.id,{headers: {\"Authorization\": \"Token \"+ localStorage.getItem('id_token')}})\n      .then((response) => {\n        setPie(response.data);\n      })\n      .catch((error) => {\n        setNotAuthorized(true);\n      });\n\n    axios\n      .get(\"/api/total_entries_per_hour_last_two_weeks/\" + props.store.id,{headers: {\"Authorization\": \"Token \"+ localStorage.getItem('id_token')}})\n      .then((response) => {\n        setLine2(response.data);\n      })\n      .catch((error) => {\n        setNotAuthorized(true);\n      });\n\n    axios\n      .get(\"/api/total_entries_per_month/\" + props.store.id,{headers: {\"Authorization\": \"Token \"+ localStorage.getItem('id_token')}})\n      .then((response) => {\n        setBar(response.data);\n      })\n      .catch((error) => {\n        setNotAuthorized(true);\n      });\n  }, []);\n\n  const lineData = {\n    labels: Object.keys(line),\n    datasets: [\n      {\n        label: \"Cantidad de Ingresos por día\",\n        backgroundColor: \"#00897b\",\n        borderColor: \"#005249\",\n        fill: true,\n        data: Object.values(line),\n      },\n    ],\n  };\n\n  const pieData = {\n    labels: Object.keys(pie),\n    datasets: [\n      {\n        label: \"Ingresos\",\n        backgroundColor: [\n          \"#00897b\",\n          \"#185855\",\n          \"#8fe8df\",\n          \"#254dcb\",\n          \"#df1818\",\n          \"#9900ff\",\n          \"#ff00aa\",\n        ],\n        borderColor: \"#ffffff\",\n        data: Object.values(pie),\n      },\n    ],\n  };\n\n  const barData = {\n    labels: Object.keys(bar),\n    datasets: [\n      {\n        label: \"Ingresos\",\n        backgroundColor: [\n          \"#69da86\",\n          \"#d72bdb\",\n          \"#7aef53\",\n          \"#5c128f\",\n          \"#20c1cb\",\n          \"#260046\",\n          \"#6f230e\",\n          \"#03590b\",\n          \"#29c152\",\n          \"#ea9c62\",\n          \"#0a4a3a\",\n          \"#205ba8\",\n        ],\n        borderColor: \"#ffffff\",\n        data: Object.values(bar),\n      },\n    ],\n  };\n\n  const lineData2 = {\n    labels: Object.keys(line2),\n    datasets: [\n      {\n        label: \"Cantidad de Ingresos por hora\",\n        backgroundColor: \"#00897b\",\n        borderColor: \"#005249\",\n        fill: true,\n        data: Object.values(line2),\n      },\n    ],\n  };\n\n  const lineOptions = {\n    elements: {\n      line: {\n        tension: 0.4, // disables bezier curves\n      },\n    },\n  };\n  if (!notAuthorized) {\n    return (\n      <>\n        <div className=\"row\">\n          <div className=\"container\">\n            <div className=\"col s12\">\n              <div className=\"card\">\n                <div className=\"card-content\">\n                  <div className=\"row\">\n                    <div className=\"col s12 m6 l6 center-align\">\n                      <span>Ingresos por día</span>\n                      <div className=\"App\">\n                        <Line data={lineData} options={lineOptions} />\n                      </div>\n                    </div>\n                    <div className=\"col s12 m6 l6 center-align\">\n                      <span> Ingresos por Mes</span>\n                      <div>\n                        <Bar data={barData} />\n                      </div>\n                    </div>\n                    <div className=\"col s12 m6 l6 center-align\">\n                      <span>Cantidad de Ingresos por hora</span>\n                      <div>\n                        <Line data={lineData2} options={lineOptions}/>\n                      </div>\n                    </div>\n                    <div className=\"col s12 m4 l4 center-align\">\n                      <span>Días con mayores ingresos</span>\n                      <div>\n                        <Pie data={pieData}/>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </>\n    );\n  } else {\n    return <></>;\n  }\n};\n\nexport default ChartStats;\n","import React from \"react\";\nimport { useEffect, useState } from \"react\";\nimport ChartStats from \"../ChartStats/ChartStats\";\nimport { useLocation } from \"react-router-dom\";\n\nconst Store = () => {\n  const location = useLocation();\n  const [store, setStore] = useState([]);\n  const storeProps = location.state?.storeProps;\n  let socket = null;\n  const host = window.location.host;\n\n  const createSocket = () => {\n    socket = new WebSocket(\"wss://\" + host + \"/ws/inicio/\");\n    socket.onmessage = (event) => {\n      let datos = JSON.parse(event.data);\n      setStore(datos.key_value);\n    };\n    socket.onopen = () => {\n      socket.send(storeProps.id);\n    };\n    socket.onclose = () => {\n      setTimeout(() => {\n        socket = null;\n        createSocket();\n      }, 3000);\n    };\n  };\n\n  useEffect(() => {\n    createSocket();\n\n    return () => {\n      socket.onclose = () => {}; // disable onclose handler first\n      socket.close();\n    };\n  }, []);\n  return (\n    <>\n      {/* <!-- Page Layout here --> */}\n      <div className=\"container\">\n        <div className=\"row center\">\n          <div className=\"col s12\">\n            <div className=\"row\">\n              <div className=\"col s12 m12\">\n                {/* <!-- Carta Principal --> */}\n                <div className=\"card\">\n                  <div className=\"card-content\">\n                    <div className=\"center-align\">\n                      <h3 style={{ margin: \"0px\" }}>{store.name}</h3>\n                    </div>\n                  </div>\n                  <div className=\"card-action teal center-align\">\n                    <div className=\"row\">\n                      <div className=\"col s12 m6\">\n                        <h5 className=\"white-text\">Capacidad Máxima</h5>\n                        <h2 className=\"white-text\" style={{ margin: \"0px\" }}>\n                          {store.max_people}\n                        </h2>\n                      </div>\n\n                      <div className=\"col s12 m6\">\n                        <h5 className=\"white-text\">Personas Actuales</h5>\n                        <h2 className=\"white-text\" style={{ margin: \"0px\" }}>\n                          {store.actual_people}\n                        </h2>\n                      </div>\n                    </div>\n                  </div>\n                  <div\n                    className={\n                      \"card-action\" +\n                      (store.is_full ? \" red \" : \" green \") +\n                      \"center-align\"\n                    }\n                  >\n                    <h2\n                      className=\"white-text center-align\"\n                      style={{ margin: \"0px\" }}\n                    >\n                      {store.is_full\n                        ? \"Lleno, no puedes pasar\"\n                        : \"Puedes pasar\"}\n                    </h2>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <ChartStats store={storeProps} />\n    </>\n  );\n};\n\nexport default Store;\n","import \"./App.css\";\nimport React from \"react\";\nimport Navbar from \"./components/Navbar/Navbar\";\nimport Home from \"./components/Home/Home\";\nimport Login from \"./components/Login/Login\";\nimport Store from \"./components/Store/Store\";\nimport \"materialize-css/dist/css/materialize.css\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\n\nfunction App() {\n  return (\n    <>\n      <Router>\n        <Navbar />\n        <Switch>\n          <Route path=\"/login/\" component={Login} />\n          <Route path=\"/store/\" component={Store} />\n          <Route path=\"/\" component={Home} exact />\n        </Switch>\n      </Router>\n    </>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}